(()=>{"use strict";var e,t={895:()=>{const e=window.wp.blocks,t=window.React,a=window.wp.i18n,r=window.wp.blockEditor,n=window.wp.components,l=window.wp.data;(0,e.registerBlockType)("reign/news-widget",{edit:function({attributes:e,setAttributes:o}){const{title:s,postsPerPage:i,postCategory:d,showAuthor:c}=e,m=(0,l.useSelect)((e=>{const t={per_page:i,_embed:!0};return d&&d.length>0&&""!==d[0]&&(t.categories=d),e("core").getEntityRecords("postType","post",t)}),[i,d]),p=(0,l.useSelect)((e=>{const t=e("core").getEntityRecords("taxonomy","category",{per_page:-1});return t&&t.length?t:[]}),[]),u=(0,r.useBlockProps)(),g=(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(n.PanelBody,{title:(0,a.__)("Settings","reign")},(0,t.createElement)(n.TextControl,{label:(0,a.__)("Title","reign"),value:s,onChange:e=>o({title:e})}),(0,t.createElement)(n.RangeControl,{label:(0,a.__)("Number of posts to show","reign"),value:i,onChange:e=>o({postsPerPage:e}),min:1,max:10}),(0,t.createElement)(n.ToggleControl,{label:(0,a.__)("Show Author","reign"),checked:c,onChange:e=>o({showAuthor:e})}),(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Select post category","reign"),value:d,onChange:e=>o({postCategory:Array.isArray(e)?e:[e]}),options:[{value:"",label:(0,a.__)("Select category","reign")},...p.map((e=>({value:e.id,label:e.name})))],multiple:!0}))),h=(0,t.createElement)("div",{...u},(0,t.createElement)("div",{className:"latest-posts-preview"},(0,t.createElement)("h2",{className:"wp-block-heading"},s||(0,a.__)("Latest Posts","reign")),(0,t.createElement)("ul",{className:"latest-posts-list"},m&&m.length>0?m.map((e=>(0,t.createElement)("li",{key:e.id,className:"latest-post-item"},(0,t.createElement)("div",{class:"latest-post-thumb"},e._embedded&&e._embedded["wp:featuredmedia"]&&(0,t.createElement)("img",{src:e._embedded["wp:featuredmedia"][0].media_details.sizes.thumbnail?e._embedded["wp:featuredmedia"][0].media_details.sizes.thumbnail.source_url:e._embedded["wp:featuredmedia"][0].source_url,alt:e.title.rendered,width:"150",height:"150",class:"latest-posts-thumbnail"})),(0,t.createElement)("div",{class:"latest-post-content"},(0,t.createElement)("h4",{class:"post-title",dangerouslySetInnerHTML:{__html:e.title.rendered}}),c&&e._embedded&&e._embedded.author&&e._embedded.author.length>0&&(0,t.createElement)("p",{className:"post-author"},"By ",e._embedded.author[0].name),(0,t.createElement)("p",{className:"latest-posts-date"},new Date(e.date).toLocaleDateString()))))):(0,t.createElement)("p",null,(0,a.__)("No posts found","reign")))));return(0,t.createElement)(t.Fragment,null,g,h)},save:function({attributes:e}){const a=r.useBlockProps.save(),n=JSON.stringify(e);return(0,t.createElement)("div",{...a,"data-attributes":n},(0,t.createElement)("p",null,"Loading news widget..."))}})}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.m=t,e=[],r.O=(t,a,n,l)=>{if(!a){var o=1/0;for(c=0;c<e.length;c++){for(var[a,n,l]=e[c],s=!0,i=0;i<a.length;i++)(!1&l||o>=l)&&Object.keys(r.O).every((e=>r.O[e](a[i])))?a.splice(i--,1):(s=!1,l<o&&(o=l));if(s){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,n,l]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var n,l,[o,s,i]=a,d=0;if(o.some((t=>0!==e[t]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(i)var c=i(r)}for(t&&t(a);d<o.length;d++)l=o[d],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(c)},a=globalThis.webpackChunkreign_news_widget=globalThis.webpackChunkreign_news_widget||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=r.O(void 0,[431],(()=>r(895)));n=r.O(n)})();